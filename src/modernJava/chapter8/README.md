# 9장

람다 표현식을 이용한 코드는 다양한 요구사항 변화에 대응할 수 있도록 동작 파라미터화 할 수 있다. 


## 가독성과 유연성을 개선하는 리팩토링

### 코드 가독성 개선

가독성이란 작성한 코드를 다른 사람들이 편하게 볼수 있음을 의미한다. 

가독성을 높이기 위해서는 표준 코딩 규칙을 준수하는 등의 노력을 기울여야 한다. (다른사람들의 편의성을 위해서)

메소드 참조를 사용하면 코드를 설명할 수 있어서 가독성을 개선할 수 있다. -> 메소드명으로 코드의 의도를 전달할 수 있다.

### 익명 클래스를 람다 표현식으로 리팩토링

- 익명 클래스를 사용하는것보단 람다를 사용하는게 좀 더 간결하게 표현할 수 있다. 
- 하지만 차이점이 존재하여 유의해서 작성해야 한다. 
  - 익명클래스에서 사용한 *this* 와 *super* 는 람다 표현식에서 다른 의미를 갖는다.
    - 익명클래스는 자신을 가리키지만, 람다는 자신을 감싸는 클래스를 의미한다.  
  - 익명 클래스는 감싸고 있는 클래스의 변수를 가릴 수 있다.(섀도 변수)

### 람다 표현식을 메서드 참조로 리팩터링하기
- 람다 표현식을 메소드 참조로 리팩토링한다면 메소드명으로 코드의 의미를 명확하게 알릴 수 있다.

### 명령형 데이터 처리를 스트림으로 리팩토링하기
- 반복자를 이용한 기존의 모든 컬렉션 처리 코드를 스트림 API로 바꿔야 한다.
  - 쇼트서킷 활용, 쉬운 병렬성 로직 흭득

### 코드 유연성 개선
- 동작 파라미터화를 이용하여 하나의 메소드를 여러 방식으로 재활용할 수 있다. 
  - ex) 사과 필터 메소드
  
- 조건부 연기 실행 
  - 비즈니스로직에서 객체에게 행위를 위임시킬 때, 객체의 상태조건을 비즈니스로직에서 확인하는 것이 아니라 객체 내부에서 해결해야한다. 
    - 클라이언트에 코드 노출을 줄일 수 있다. 
    - 로직마다 특정 객체의 상태를 확인하는 코드가 매번 들어가야한다.
      - 내부적으로 적절한 수준인지 체크하여 로직을 진행하는것이 바람직하다.
  - 람다를 활용하면 조건부 흐름별 실행을 편하게 컨트롤할 수 있다. 
    - 람다를 활용하지 않는다면 파라미터를 동적으로 매핑할 수 없어서, 여러개의 메소드가 생성 될 수 있다. 또는 파라미터를 생성하는 로직도 분기처리를 진행해야한다.

- 실행 어라운드
  - 여러 메소드에서 동일한 준비 단계와 종료 단계를 중복적으로 나타난다면 행위 자체를 파라미터로 받아와서 하나의 메소드로 리팩토링할 수 있다.

## 람다로 객체지향 디자인 패턴 리팩토링
- 람다를 이용하면 조금 더 편한 디자인 패턴을 제공할 수 도 있다. 
- 디자인 패턴이란 공통적인 소프트웨어 문제를 설계할 때 재사용할 수 있는, 검증된 청사진을 제공한다.

### 전략
- 한 유형의 알고리즘을 보유한 상태에서 런타임에 적절한 알고리즘을 선택하는 기법
- 예시
  - 알고리즘을 나타내는 인터페이스 
  - 다양한 알고리즘을 나타내는 한 개 이상의 인터페이스 구현
    - 하나의 책임을 갖기 위해 
  - 전략 객체를 사용하는 한 개 이상의 클라이언트


### 템플릿 메서드
- 알고리즘의 일부를 고칠 수 있는 유연함을 제공해야 할 때 템플릿 메서드 디자인 패턴을 사용한다.
